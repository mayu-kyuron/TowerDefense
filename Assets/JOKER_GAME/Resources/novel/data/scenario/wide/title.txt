
*title
;タイトル画面
@call file=wide/libs/utils
[bg_new name="background" layer="background" storage="title"]
[bg_show name="background"]

;開始ボタンとロードボタンを実装
@image_new name="button_start" tag="button" x=-3.5 y=-3.2  storage="title_start" scale=1.2
@image_new name="button_load" tag="button" x=3.5 y=-3.2  storage="title_load" scale=1.2

;autoという変数にオートセーブのデータを代入
@get_autosave var=auto

@show tag=button
@anim name=button_start storage="onmouse"

*no

[evt name="button_start" act="click" target="*click_start" ]
[evt name="button_load" act="click" target="*click_load" ]

[evt_resume]

[s]

*click_start
[evt_stop]
[playse storage="start"]
@anim name="button_start" scale=1.5 wait=false

;オートセーブされたデータが存在するなら
[if exp="{auto.date}!=''"]

	[wait time = 1]

	[showmessage]
	@anim name="button_start" scale=1.2 wait=false

	[wait time = 1]

	はじめからを選択するとすべてのデータが消えます。[r][l]
	本当にしますか？

	[wait time =1]

	[select_new text="はい" target=*select_ok ]
	[select_new text="いいえ" target=*select_no ]

	[evt_resume tag="select_button"]

	[select_show sound=click ]

	[s]

	*select_ok

	[evt_stop]
	[cm]
	[hidemessage]

	@jump target=*ok

	*select_no

	[cm]
	[hidemessage]

	[evt_resume]

	[s]

[endif]

*ok

@bg_hide name="background" time=1.5

[wait time=2]
@jump file=wide/material scene=new

*click_load
[evt_stop]
[playse storage="start"]
@anim name="button_load" scale=1.5 wait=true

[if exp="{auto.date}==''"]

	[showmessage]
	@anim name="button_load" scale=1.2 wait=false

	[wait time = 1]

	データがありません。[p]
	[cm]

	[hidemessage]

	@jump target = *no

[endif]

[load name = "autosave"]